# 从零搭建 AI 猫猫协作系统

> 一个真实项目的完整复盘，还原我们踩过的坑、做过的决策、走过的弯路。

## 为什么写这个教程

2026 年 2 月，我们在公司分享了三只 AI 猫猫的协作故事，500 人群瞬间满员。大家最好奇的不是"你们用了什么技术栈"，而是：

- 怎么让多个 AI Agent 真正协作起来？
- 为什么布偶猫被缅因猫 review 了 6 轮？
- 你们是怎么从 SDK 方案转到 CLI 的？

这个教程不是"从零开始的理想路径"，而是**还原我们真实走过的路**——包括错误的尝试、关键的转折、以及血泪教训。

## 三只猫猫

| 猫猫 | 模型 | 角色 |
|------|------|------|
| 布偶猫 | Claude Opus | 主架构师，核心开发 |
| 缅因猫 | Codex | Code Review，安全，测试 |
| 暹罗猫 | Gemini | 视觉设计，创意 |

## 🎬 功能演示

> **想先看看成品长什么样？** → [**查看功能演示（含视频）**](./DEMO.md)
>
> 16 个功能演示，从基础交互到多猫协作到研发自闭环，每个都有视频。

## 教程目录

### Part 0: 概念入门

| 课 | 标题 | 状态 | 核心问题 |
|----|------|------|----------|
| 00 | [AI Agent 概念演进](./00-concepts-evolution.md) | ✅ 完成 | Function Call → MCP → Skills → Agent 怎么来的？ |

### Part 1: 选型与架构

| 课 | 标题 | 状态 | 核心问题 |
|----|------|------|----------|
| 01 | [选型之路：从 SDK 到 CLI](./01-sdk-to-cli.md) | ✅ 完成 | 为什么 SDK 方案行不通？ |
| ↳ | [课后作业](./01-homework.md) | ✅ 完成 | 动手写最小可运行示例 |
| 02 | [从玩具到生产：一场辩论赛引发的连环惨案](./02-cli-engineering.md) | ✅ 完成 | stderr 教训 + Redis 隔离 + 幻觉 |
| ↳ | [课后作业](./02-homework.md) | ✅ 完成 | CLI 工程化自检提示词 |
| 03 | [驯化 AI 的元规则：为什么 WHY 比 WHAT 重要](./03-meta-rules.md) | ✅ 完成 | 从 AI 弱点出发设计协作规范 |

### Part 2: 协作机制

| 课 | 标题 | 状态 | 核心问题 |
|----|------|------|----------|
| 04 | [多猫路由 — 当 AI 开始互相 @](./04-a2a-routing.md) | ✅ 完成 | @mention 怎么分发？两条路径的灾难 |
| 05 | [MCP 回传 — 让猫猫主动说话](./05-mcp-callback.md) | ✅ 完成 | 被动响应不够，猫怎么主动发言？ |
| ↳ | [课后作业](./05-homework.md) | ✅ 完成 | 搭建最小 MCP 回传系统 |

### Part 3: 生产化

| 课 | 标题 | 状态 | 核心问题 |
|----|------|------|----------|
| 06 | [消失的 28 秒 — 当 AI 闯了生产事故](./06-vanished-28-seconds.md) | ✅ 完成 | 两次数据丢失 + 取证恢复 + F23/F25 三层防线 |
| ↳ | [课后作业](./06-homework.md) | ✅ 完成 | 数据丢失演练 + 防腐门 + 证据闸门 |

### Part 4: 进阶话题

| 课 | 标题 | 状态 | 核心问题 |
|----|------|------|----------|
| 07 | [从猫咖到猫猫平台 — 当 AI 不只是工具](./07-from-cafe-to-platform.md) | ✅ 完成 | SillyTavern 取经 + Rich Blocks + PWA + 悄悄话 + 插件化 |
| ↳ | [课后作业](./07-homework.md) | ✅ 完成 | 最小 Rich Blocks 管线 + Game Block |
| 08 | [Session 管理 — 茶话会夺魂 bug](./08-session-management.md) | ✅ 完成 | 跨 thread 污染怎么来的？ |
| ↳ | [课后作业](./08-homework.md) | ✅ 完成 | 搭建最小 Session Chain 模拟器 |
| 09 | 上下文工程 | 🔜 待写 | 150k token 怎么用？（等 F33 实现后再写） |
| 10 | 长期记忆 | 🔜 待写 | Hindsight 集成 |
| 11 | 降级与容错 | 🔜 待写 | 猫猫挂了怎么办？ |

## 适合谁

- 想让多个 AI Agent 协作的开发者
- 对 Claude/Codex/Gemini CLI 感兴趣的人
- 想看真实项目演进过程的人
- 想避开我们踩过的坑的人

## 不适合谁

- 想要一键部署模板的人（我们还没到那一步）
- 只想调 API 不关心协作的人
- 期待完美代码的人（我们还在打磨）

## 项目状态

- 代码仓库：私有（打磨中）
- 教程：公开（你正在读的这个）
- 计划开源时间：待定（等我们满意了）

---

*这个教程由三只猫猫和铲屎官共同编写。*
